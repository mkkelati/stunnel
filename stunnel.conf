# Stunnel Configuration for Secure SSH Tunneling
# TLSv1.3 with TLS_AES_256_GCM_SHA384 cipher for maximum security

# Global settings
pid = /var/run/stunnel/stunnel.pid
debug = 4
output = /var/log/stunnel/stunnel.log

# TLS/SSL settings for maximum security
sslVersion = TLSv1.3
ciphers = TLS_AES_256_GCM_SHA384
options = NO_SSLv2
options = NO_SSLv3
options = NO_TLSv1
options = NO_TLSv1.1
options = NO_TLSv1.2
options = CIPHER_SERVER_PREFERENCE
options = NO_COMPRESSION

# Certificate settings
cert = /etc/stunnel/stunnel.pem
key = /etc/stunnel/stunnel.key

# Performance settings
socket = l:TCP_NODELAY=1
socket = r:TCP_NODELAY=1

[ssh-ssl]
# SSL/TLS proxy for SSH connections
accept = 443
connect = 127.0.0.1:22
protocol = proxy

# Security headers and options
TIMEOUTbusy = 600
TIMEOUTclose = 60
TIMEOUTconnect = 10
TIMEOUTidle = 43200

# Client certificate verification (optional)
# verify = 2
# CAfile = /etc/stunnel/ca.pem

# Additional security options
renegotiation = no
